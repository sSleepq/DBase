# Практическая работа №10: «Декартово произведение и фильтрация в SQL»

## Цель работы
Освоить механизм декартова произведения (CROSS JOIN) для генерации всех возможных комбинаций записей из двух таблиц. Научиться применять фильтрацию результатов с использованием строковых функций и операторов сравнения.

---

## Теоретическая справка

*   `CROSS JOIN`: Операция, возвращающая **декартово произведение** двух таблиц. Каждая строка первой таблицы соединяется с каждой строкой второй. Если в таблице A N строк, а в таблице B M строк, результат будет содержать N × M строк.
*   `UPPER()` / `LOWER()`: Функции для приведения строки к верхнему или нижнему регистру.
*   `LEFT()`: Функция, возвращающая указанное количество символов с начала строки.
*   `LIKE`: Оператор для поиска по шаблону в текстовых полях. `%` означает любую последовательность символов.
*   `NOT LIKE`: Отрицание оператора `LIKE`.

---

## Постановка задачи

Вам предоставлена логическая структура двух таблиц: `meals` (блюда) и `drinks` (напитки). Таблицы между собой **не связаны** логически (нет внешнего ключа).

**Задача:** Используя предоставленные данные, вам необходимо:
1.  Самостоятельно создать в своей СУБД эти две таблицы.
2.  Заполнить их тестовыми данными.
3.  Составить и выполнить SQL-запросы для генерации всех возможных комбинаций "блюдо-напиток" с применением различных условий фильтрации.

---

## Исходные данные

### 1. Схема таблиц

**Таблица `meals` (Блюда)**
| Поле | Тип данных | Описание |
| :--- | :--- | :--- |
| `id` | INT | Уникальный идентификатор блюда (первичный ключ) |
| `name` | VARCHAR | Название блюда |

**Таблица `drinks` (Напитки)**
| Поле | Тип данных | Описание |
| :--- | :--- | :--- |
| `id` | INT | Уникальный идентификатор напитка (первичный ключ) |
| `name` | VARCHAR | Название напитка |

### 2. Данные для заполнения

**Для таблицы `meals`:**
| id | name |
| :--- | :--- |
| 1 | Omlet |
| 2 | Fried Eggs |
| 3 | Sausage |
| 4 | Soup |
| 5 | Borsch |

**Для таблицы `drinks`:**
| id | name |
| :--- | :--- |
| 1 | Coffee |
| 2 | Cappuccino |
| 3 | Tea |
| 4 | Orange Juice |
| 5 | Milk |

---

## Ход работы

### Часть 1. Подготовка окружения

1.  Подключитесь к своей СУБД.
2.  Создайте новую базу данных для практической работы (например, `practice_cross_db`).
3.  **Используя только схему и данные выше**, напишите SQL-скрипты для:
    *   Создания таблицы `meals`.
    *   Создания таблицы `drinks`.
    *   Заполнения обеих таблиц данными.
4.  Выполните созданные скрипты. Убедитесь, что таблицы созданы и содержат данные.

### Часть 2. Выполнение запросов

Составьте и выполните SQL-запросы, решающие поставленные задачи. Результат выполнения каждого запроса (первые несколько строк) занесите в таблицу «Результаты».

#### Задача 1
Сделайте комбинацию блюд. Выберите все блюда из таблицы `meals` и для каждого обеда должны быть варианты напитков из таблицы `drinks`.
*(Результат должен содержать 5 блюд × 5 напитков = 25 комбинаций)*.


#### Задача 2
Сделайте комбинацию блюд. **Только напитки должны начинаться с буквы 'C'** (буква может быть как маленькая или большая).
*(Из напитков подходят 'Coffee' и 'Cappuccino'. Результат должен содержать 5 блюд × 2 напитка = 10 комбинаций. Используйте функции для приведения к одному регистру)*.


#### Задача 3
Сделайте комбинацию блюд. **Только напитки должны начинаться с любой буквы кроме 'c'** (буква может быть как маленькая или большая).
*(Из напитков не подходят 'Coffee' и 'Cappuccino'. Результат должен содержать 5 блюд × 3 напитка = 15 комбинаций)*.

---

## Контрольные вопросы

1.  Какую SQL-операцию вы использовали для создания всех возможных комбинаций в Задаче 1? В чем её основное отличие от `INNER JOIN`?
2.  Объясните логику работы условий `UPPER(LEFT(d.name, 1)) = 'C'` и `UPPER(LEFT(d.name, 1)) != 'C'`. Почему нельзя было использовать просто `d.name LIKE 'C%'`?
3.  Сколько всего строк получилось бы в результате `CROSS JOIN`, если бы в таблице `meals` было 10 записей, а в `drinks` — 7?
4.  Предложите другой способ (без использования `LEFT()` и `UPPER()`) написать условие фильтрации для Задачи 2.
5.  В какой реальной задаче (например, в интернет-магазине или системе бронирования) может быть полезно использование `CROSS JOIN`?
