# Команда GROUP BY в SQL

Команда `GROUP BY` позволяет группировать результаты при выборке из базы данных. К сгруппированным результатам можно применять любые функции.


## Синтаксис

```sql
SELECT * FROM имя_таблицы WHERE условие GROUP BY поле_для_группировки
```

## Таблицы для примеров

**Таблица `employees`**

| id | name | age | salary |
|----|------|-----|--------|
| 1 | user1 | 23 | 400 |
| 2 | user2 | 25 | 500 |
| 3 | user3 | 23 | 500 |
| 4 | user4 | 30 | 900 |
| 5 | user5 | 27 | 500 |
| 6 | user6 | 28 | 900 |

## Примеры использования

### Пример 1: суммирование зарплат по возрасту

В этом примере записи таблицы группируются по возрасту. Затем для каждой группы применяется функция `SUM`, которая суммирует зарплаты внутри группы.

**Запрос:**
```sql
SELECT age, SUM(salary) as sum FROM employees GROUP BY age
```

**Результат:**

| age | sum |
|-----|-----|
| 23 | 600 |
| 24 | 3000 |
| 25 | 900 |

### Пример 2: группировка с условием WHERE

Здесь используется дополнительное условие `WHERE`, чтобы взять не все записи из таблицы.

**Запрос:**
```sql
SELECT age, SUM(salary) as sum FROM employees WHERE id >= 2 GROUP BY age
```

**Результат:**

| age | sum |
|-----|-----|
| 23 | 500 |
| 24 | 3000 |
| 25 | 900 |

### Пример 3: нахождение максимальной зарплаты в группе

Записи группируются по возрасту, затем для каждой группы применяется функция `MAX`, которая находит максимальную зарплату.

**Запрос:**
```sql
SELECT age, MAX(salary) as max FROM employees GROUP BY age
```

**Результат:**

| age | max |
|-----|-----|
| 23 | 300 |
| 24 | 2000 |
| 25 | 900 |

### Пример 4: нахождение минимальной зарплаты в группе

С помощью функции `MIN` находится минимальная зарплата внутри каждой группы.

**Запрос:**
```sql
SELECT age, MIN(salary) as min FROM employees GROUP BY age
```

**Результат:**

| age | min |
|-----|-----|
| 23 | 100 |
| 24 | 900 |
| 25 | 900 |

### Пример 5: подсчёт количества записей в группе

Функция `COUNT` определяет количество записей в каждой группе.

**Запрос:**
```sql
SELECT age, COUNT(*) as count FROM employees GROUP BY age
```

**Результат:**

| age | count |
|-----|-------|
| 23 | 3 |
| 24 | 2 |
| 25 | 1 |
