# Команда DISTINCT в SQL


## Описание

Команда **DISTINCT** используется для выборки только уникальных (неповторяющихся) значений из указанных столбцов таблицы. Она устраняет дубликаты в результирующем наборе данных.

## Синтаксис

- **При выборке уникальных значений:**  
  ```sql
  SELECT DISTINCT поле FROM имя_таблицы WHERE условие;
  ```

- **При подсчёте количества уникальных значений:**  
  ```sql
  SELECT COUNT(DISTINCT поле) FROM имя_таблицы WHERE условие;
  ```

- **При суммировании уникальных значений:**  
  ```sql
  SELECT SUM(DISTINCT поле) FROM имя_таблицы WHERE условие;
  ```

## Пример таблицы

Рассмотрим примеры на таблице `employees`:

| id (айди) | name (имя) | age (возраст) | salary (зарплата) |
|-----------|-----------|-------------|--------------|
| 1 | user1 | 23 | 400 |
| 2 | user2 | 25 | 500 |
| 3 | user3 | 23 | 500 |
| 4 | user4 | 30 | 900 |
| 5 | user5 | 27 | 500 |
| 6 | user6 | 28 | 900 |

## Примеры использования

### Пример 1: выборка уникальных значений зарплаты

**Задача:** получить список всех уникальных значений зарплат из таблицы.

**Запрос:**  
```sql
SELECT DISTINCT salary FROM employees;
```

**Результат:**  
| salary (зарплата) |
|--------------|
| 400 |
| 500 |
| 900 |

*Пояснение:* дубликаты зарплат (например, 500 встречается трижды) отсеяны — в результате только уникальные значения.

### Пример 2: подсчёт количества уникальных зарплат

**Задача:** определить, сколько различных значений зарплат присутствует в таблице.

**Запрос:**  
```sql
SELECT COUNT(DISTINCT salary) AS count FROM employees;
```

**Результат:**  
| count (количество) |
|----------------|
| 3 |

*Пояснение:* в таблице встречаются 3 уникальные зарплаты: 400, 500 и 900.

### Пример 3: одновременный подсчёт уникальных значений по двум столбцам


**Задача:** подсчитать количество уникальных зарплат и уникальных возрастов, вывести в отдельных столбцах.

**Запрос:**  
```sql
SELECT 
    COUNT(DISTINCT salary) AS salary_count,
    COUNT(DISTINCT age) AS age_count
FROM employees;
```

**Результат:**  
| salary_count (зарплата) | age_count (возраст) |
|----------------------|------------------|
| 3 | 5 |

*Пояснение:*  
- Уникальных зарплат — 3 (400, 500, 900).  
- Уникальных возрастов — 5 (23, 25, 27, 28, 30).


### Пример 4: суммирование уникальных значений зарплаты


**Задача:** вычислить сумму всех уникальных значений зарплат.

**Запрос:**  
```sql
SELECT SUM(DISTINCT salary) AS sum FROM employees;
```

**Результат:**  
| sum (суммарная зарплата) |
|-----------------------|
| 1900 |

*Пояснение:* суммируются только уникальные зарплаты: $400 + 500 + 900 = 1900$. Дубликаты (например, вторая и третья запись с зарплатой 500) не учитываются.


## Важные замечания

1. **DISTINCT применяется ко всей строке**, если указано несколько столбцов. Например, `SELECT DISTINCT age, salary` вернёт уникальные комбинации возраста и зарплаты.
2. **NULL-значения обрабатываются как уникальные**: если в столбце есть NULL, он будет включён в результат как одно значение.
3. **DISTINCT не игнорирует пробелы и регистр** — строки `'user1'` и `'User1'` считаются разными.
4. **Производительность**: использование DISTINCT может замедлить запрос на больших таблицах, так как требует дополнительной сортировки и сравнения данных.
5. **Сочетание с агрегатными функциями**: DISTINCT можно использовать внутри `COUNT()`, `SUM()`, `AVG()` и др. для работы только с уникальными значениями.