# Команда LIKE в SQL

## Описание

Команда **LIKE** используется для поиска значений по определённому текстовому шаблону в рамках оператора `WHERE`.

## Синтаксис

```sql
SELECT * FROM имя_таблицы WHERE поле LIKE шаблон_поиска;
```

## Специальные символы в шаблонах

- `%` — заменяет любую последовательность символов (включая пустую);
- `_` — заменяет ровно один символ.

## Пример таблицы

Таблица `employees`:

| id (айди) | name (имя) | age (возраст) | salary (зарплата) |
|-----------|-----------|-------------|--------------|
| 1 | user1 | 23 | 400 |
| 2 | user2 | 25 | 500 |
| 3 | user3 | 23 | 500 |
| 4 | user4 | 30 | 900 |
| 5 | user5 | 27 | 500 |
| 6 | user6 | 28 | 900 |

## Примеры использования

### Пример 1. Поиск имён, заканчивающихся на «я»

**Задача:** найти все записи, где имя заканчивается на букву «я».

**SQL‑запрос:**
```sql
SELECT * FROM employees WHERE name LIKE '%я';
```

**Результат:**

| id (айди) | name (имя) | age (возраст) | salary (зарплата) |
|-----------|-----------|-------------|--------------|
| 2 | Петя | 25 | 500 |
| 3 | Вася | 23 | 500 |
| 4 | Коля | 30 | 900 |

**Пояснение:**  
- `%я` означает: любая последовательность символов, за которой следует буква «я».

### Пример 2. Поиск возрастов, начинающихся с цифры «2» и содержащих ещё один символ


**Задача:** выбрать записи, где возраст начинается с цифры «2», а после идёт ровно один символ.

**SQL‑запрос:**
```sql
SELECT * FROM employees WHERE age LIKE '2_';
```

**Результат:**

| id (айди) | name (имя) | age (возраст) | salary (зарплата) |
|-----------|-----------|-------------|--------------|
| 1 | user1 | 23 | 400 |
| 2 | user2 | 25 | 500 |
| 3 | user3 | 23 | 500 |
| 5 | user5 | 27 | 500 |
| 6 | user6 | 28 | 900 |

**Пояснение:**  
- `2_` означает: цифра «2», за которой следует ровно один любой символ.


## Важные замечания


1. **Регистрозависимость:**
   - В некоторых СУБД (`MySQL`, `SQLite`) `LIKE` по умолчанию не учитывает регистр.
   - В других (`PostgreSQL`, `SQL Server`) может быть регистрозависимым — используйте `ILIKE` (PostgreSQL) или приводите значения к одному регистру (`UPPER()`, `LOWER()`).


2. **Экранирование спецсимволов:**
   - Если нужно искать сами символы `%` или `_`, используйте `ESCAPE`-символ:  
     ```sql
     WHERE поле LIKE '%\%%' ESCAPE '\';
     ```

3. **Производительность:**
   - Запросы с `LIKE`, особенно начинающиеся с `%`, могут быть медленными на больших таблицах (не используют индексы).
   - Для точного префиксного поиска (`'текст%'`) индексы работают эффективнее.


4. **Альтернативы:**
   - Для сложных шаблонов используйте `REGEXP`/`REGEXP_LIKE` (в зависимости от СУБД).
   - Для поиска подстроки без шаблонов можно применять `CONTAINS` или `INSTR`.
